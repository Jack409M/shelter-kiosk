{% extends "layout.html" %}
{% block content %}
<h1>Leave request</h1>

<form method="post" class="card">
  <label>Shelter</label>
  {% if shelter %}
    <input value="{{ shelter }}" readonly>
    <input type="hidden" name="shelter" value="{{ shelter }}">
  {% else %}
    <select name="shelter" required>
      <option value="">Select</option>
      {% for s in shelters %}
        <option value="{{ s }}">{{ s }}</option>
      {% endfor %}
    </select>
  {% endif %}

  <div class="grid">
  <div>
    <label>Resident Code</label>
    <input
      name="resident_code"
      required
      maxlength="8"
      inputmode="numeric"
      pattern="[0-9]{8}"
      autocomplete="off"
      placeholder="8 digit code"
    >
  </div>
</div>
<label for="resident_phone">Phone number for text updates</label>
<input
  id="resident_phone"
  name="resident_phone"
  type="tel"
  required
  placeholder="8065551234"
  style="width:180px; display:inline-block;"
/>

<label>Destination</label>
<input name="destination" required>

<div class="grid">
  <div>
    <label>Leave date</label>
    <input type="datetime-local" name="leave_at" required>
  </div>

  <div>
    <label>Return date</label>
    <input type="datetime-local" name="return_at" required>
  </div>
</div>

<label>Reason optional</label>
<select name="reason">
  <option value="">Select</option>
  <option>Medical</option>
  <option>Work</option>
  <option>Family</option>
  <option>Legal</option>
  <option>Other</option>
</select>

  <label>Notes optional</label>
  <textarea name="resident_notes" rows="3"></textarea>

  <div class="check">
  <label>
    <input type="checkbox" name="agreed" required>
    <span class="check-text">
      I understand maximum leave is {{ max_days }} days and I must return by the approved time.
    </span>
  </label>
</div>


  <button type="submit">Submit</button>
</form>

{% endblock %}








