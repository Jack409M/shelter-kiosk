{% extends "base.html" %}
{% block content %}

<div class="card">
  <h2>Transportation Board, {{ shelter }}</h2>

<form method="get" action="{{ url_for('staff_transport_board') }}" style="margin-bottom:12px;">
  <label>Select date:</label>
  <input type="date" name="date" value="{{ request.args.get('date', '') }}">
  <button type="submit">View</button>
  <a href="{{ url_for('staff_transport_print', date=request.args.get('date')) }}" target="_blank">Print sheet</a>
</form>
  <p><a href="{{ url_for('staff_transport_print') }}" target="_blank">Print sheet</a></p>
</div>

<div class="card">
  <table>
    <thead>
      <tr>
        <th>Time</th>
        <th>Name</th>
        <th>Pickup</th>
        <th>Destination</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody>
      {% for r in rows %}
      <tr>
        <td>{{ fmt_dt(r.needed_at) }}</td>
        <td>{{ r.last_name }}, {{ r.first_name }}</td>
        <td>{{ r.pickup_location }}</td>
        <td>{{ r.destination }}</td>
        <td>{{ r.status }}</td>
      </tr>
      {% endfor %}
      {% if rows|length == 0 %}
      <tr><td colspan="5">No rides found.</td></tr>
      {% endif %}
    </tbody>
  </table>
</div>

{% endblock %}
